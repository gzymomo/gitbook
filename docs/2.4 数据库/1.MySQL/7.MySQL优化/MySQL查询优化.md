[MySQL查询优化](https://developer.aliyun.com/article/783102?spm=a2c6h.13528211.0.0.228c4307XujuTp)



**一、优化目的与目标**

**（一）为什么要优化**

l  优化的目的主要可分为以下四个：

1）提高资源利用率；

2）避免短板效应；

3）提高系统吞吐量；

4）同时满足更多用户的在线需求。

简单点来说，优化的目的是为了提高资源的利用率，让资源充分发挥价值。常见场景下，一台服务器有4大资源： CPU、内存、网络和磁盘。一旦其中某个资源出现问题，整个服务器提供服务的能力就会变差，优化的最终目的是为了同时满足更多用户的在线需求。

 

**（二）MySQL优化目标**

MySQL优化目标主要有3个：

第一，**减少磁盘IO**，在数据库中主要是来自于全表扫描、扫描大量数据块场景、日志以及数据块的写入情况。

第二，**减少网络带宽**，主要是包括两个方面，第一，系统查询时，返回太多数据；第二，插入场景下，交互次数过多。

第三，**降低CPU的消耗**，主要包括三个方面，第一，MySQL本身的逻辑读，第二，额外的计算操作，比如排序分组（order by group by），第三，是聚合函数（max,min,sum...）。

l  总结如下：

**✓****减少磁盘IO**

**·**全表扫描

**·**磁盘临时表

**·**日志、数据块fsync

**✓****减少网络带宽**

**·**返回太多数据

**·**交互次数过多

**✓****降低CPU消耗**

**·**排序分组。order by, group by

**·**聚合函数。max,min,sum...

**·**逻辑读

![image.png](https://ucc.alicdn.com/pic/developer-ecology/90c98bac93ff42129cfda09de47a98aa.png)