# 第一关 案例分析

## 1. 最终效果展示

现在生活中已经是随处可见二维码了，不过在这个追求个性的时代，普通的黑白二维码已经看得太多，个性可爱的二维码才能让人眼前一亮。你想知道这些有趣的二维码是怎么做出来的吗？

其实特别简单，如果用Python的话，两行代码就可以搞定。

我们先来看看做出来的效果：

动感炫彩二维码~

![柯南二维码.gif](https://cdn.nlark.com/yuque/0/2020/gif/1225887/1590551095633-2c561960-e354-4dce-a3b9-8586324fdb9f.gif)![logo二维码.png](https://cdn.nlark.com/yuque/0/2020/png/1225887/1590551165306-5eba37f1-2639-4f7f-9bd1-719282763e7f.png)上面两个不同的二维码，扫一扫都可以跳转到博学谷主页。

这么好玩的二维码到底是怎么做出来的呢？

想知道的话你就需要先学习一下完成这个案例所必需的前置知识：

## 2. 前置知识

- Python入门
- 逻辑结构与流程控制
- 容器类型（数据结构）
- 函数
- 面向对象
- 模块与包



如果你确认以上知识点均已掌握，那我们就一起开启用2行代码生成炫酷二维码的奇幻旅程吧~

## 3. 核心思路拆解

其实制作个性二维码，关键中的关键，就是用到了一个叫做MyQR的第三方库。

MyQR是什么？——Python的一个第三方库，是目前Python中最流行的二维码制作库，有了它，仅需2行代码就可生成生动有趣的二维码。可谓是二维码界的神器！



它来自于github上的sylnsfar/qrcode项目。这个项目很牛（哔……）的，截止目前为止拿到了7100多颗星，1200多个fork。最让人佩服的是，这个源码的作者当时还是一个学生，厉害！



用好MyQR库，就能够轻松生成自己所需二维码，并且还可以设置二维码的大小、让二维码嵌在风格化的图片中、让二维码动起来！！最基本的，就是如下3步：

![img](https://cdn.nlark.com/yuque/0/2020/svg/1225887/1594366837956-6ecd6572-3143-4fc4-9083-488fe97b0e3e.svg)

# 第二关 生成普通二维码

千里之行，始于足下！在生成酷炫二维码之前，我们可以先感受一下如下图这样最普通的二维码是怎样生成的：

![普通二维码.png](https://cdn.nlark.com/yuque/0/2020/png/1225887/1590552489565-a022f829-9308-4488-ad27-1ab7203b74d6.png)

## 1. 安装MyQR库

在系统命令行输入pip install MyQR后，按回车运行即可。需要注意的是MyQR依赖于python3，在python2的环境下可能无法正常运行。

 ![image.png](https://cdn.nlark.com/yuque/0/2020/png/1225887/1590552202460-61259094-53c9-441b-9f18-9d0e080bc288.png)

如上图，当你看到出现 Successfully installed MyQR 字样，就说明已经成功安装MyQR模块啦！~

## 2. 生成普通二维码

安装好MyQR模块后，想要生成普通二维码，仅需2步：

Step1 导入myqr模块

Step2 调用myqr中的run()方法，运行生成二维码

```
# Step1 导入myqr模块
from MyQR import myqr
# Step2 调用myqr中的run()方法，运行生成二维码
myqr.run(
    words='https://www.boxuegu.com/'
)
```

写完代码后，运行！ 在当前路径下你会看到多出来一个叫作”qrcode.png“的图片，没错，就是它！

![普通二维码.png](https://cdn.nlark.com/yuque/0/2020/png/1225887/1590552489565-a022f829-9308-4488-ad27-1ab7203b74d6.png)

可以拿手机对着它扫一扫，看看是否有效~如果成功了，将会跳转到博学谷主页哟~

代码讲解：

之前我们已经安装好了MyQR库，而在MyQR库中，我们经常使用其中的一个模块 myqr 来制作二维码，导入方式为from MyQR import myqr。

导入模块完成后，就可以使用当中的run()方法来进行二维码的生成。

下面我们来详细看一下 myqr.run()方法里面的参数：

| 参数       | 含义               | 详细                                                         |
| ---------- | ------------------ | ------------------------------------------------------------ |
| words      | 二维码内容         | str，输入链接作为参数                                        |
| version    | 二维码大小         | int，控制边长，范围是1到40，数字越大边长越大,默认边长是取决于你输入的信息的长度和使用的纠错等级 |
| level      | 二维码纠错级别     | str，控制纠错水平，范围是L、M、Q、H，从左到右依次升高，默认纠错等级为'H' |
| picture    | 自定义二维码背景图 | str，支持格式为 .jpg，.png，.bmp，.gif，默认为黑白色         |
| colorized  | 二维码背景颜色     | bool，默认为 False，即黑白色                                 |
| contrast   | 对比度             | float，调节图片的对比度，1.0 表示原始图片，更小的值表示更低对比度，更大反之。默认为1.0 |
| brightness | 亮度               | float，调节图片的亮度，默认为 1.0，值常和对比度相同          |
| save_name  | 输出文件名         | str，默认输出文件名是"qrcode.png"                            |
| save_dir   | 存储位置           | str，默认存储位置是当前目录                                  |

因为上面的代码我们只用到了“words”参数，其他均按默认，因此在当前路径生成了一张没有背景图片的普通黑白二维码。

如果光是这样烂大街的二维码，是否太单调了呢？没关系，我们可以把run()方法里的其他参数也用上，给二维码加上我们想要的图片，使二维码更具活力！



# 第三关 生成炫彩二维码

## 1. 准备好炫彩图片

博学谷logo.png：

![博学谷logo2.jpg](https://cdn.nlark.com/yuque/0/2020/jpeg/1225887/1590551964905-d1d6e465-00af-43aa-a992-4e85e546bd8c.jpeg)

## 2. 生成炫彩二维码

如果想要将上面这张图嵌入到我们的二维码中的话，就需要在run()方法的picture参数里指定博学谷Logo图片的地址，并且在save_name参数处设置好将要生成的新二维码的名称，比如“博学谷logo二维码.png”，以免和上一张二维码图片冲突。

```
from MyQR import myqr
myqr.run(
    words='https://www.boxuegu.com/',
    picture='博学谷logo.png',
    save_name='博学谷logo二维码.png'
)
```

完事，运行代码！ 当前路径下，生成了一张“博学谷logo二维码.png”：

![黑白二维码.png](https://cdn.nlark.com/yuque/0/2020/png/1225887/1590553546539-53b83691-d36c-43ca-bccd-d007000f6ee0.png)

emmmmm……黑白的，不好看呐！想要变得多彩一点？ 在参数里将 colorized 参数值设为 True就ok啦~

```
from MyQR import myqr
myqr.run(
    words='https://www.boxuegu.com/',
    picture='博学谷logo.png',
    save_name='彩色博学谷Logo二维码.png',
    colorized=True
)
```

完事，运行代码！终于生成了一张炫彩二维码：